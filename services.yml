services:
    pdo:
        class: PDO
        arguments:
            dsn: "mysql:host=%db.host%;dbname=%db.name%"
            user: "%db.username%"
            password: "%db.password%"

    facebook_engagement.query.standard:
        class:     Outlandish\SocialMonitor\FacebookEngagement\Query\StandardFacebookEngagementQuery
        arguments: ["@pdo"]

    facebook_engagement.query.weighted:
        class:     Outlandish\SocialMonitor\FacebookEngagement\Query\WeightedFacebookEngagementQuery
        arguments: ["@pdo"]

    facebook_engagement.standard:
        class:     Outlandish\SocialMonitor\FacebookEngagement\FacebookEngagementMetric
        arguments: ["@facebook_engagement.query.standard"]

    facebook_engagement.weighted:
        class:     Outlandish\SocialMonitor\FacebookEngagement\FacebookEngagementMetric
        arguments: ["@facebook_engagement.query.weighted"]

    facebook.session_factory:
        class: Outlandish\SocialMonitor\FacebookFetcher\SessionFactory
        arguments: ["%facebook.app_id%", "%facebook.app_secret%"]

    facebook.request_factory:
        class: Outlandish\SocialMonitor\FacebookFetcher\RequestFactory
        arguments: ["@facebook.session_factory"]

    facebook.likes_counter:
        class: Outlandish\SocialMonitor\FacebookFetcher\LikesCountFetcher
        arguments: ["@facebook.request_factory"]

    facebook.comments_counter:
        class: Outlandish\SocialMonitor\FacebookFetcher\CommentsCountFetcher
        arguments: ["@facebook.request_factory"]

    facebook.shares_counter:
        class: Outlandish\SocialMonitor\FacebookFetcher\SharesCountFetcher
        arguments: ["@facebook.request_factory"]

    facebook.app:
        class: Outlandish\SocialMonitor\FacebookApp
        arguments: ["@facebook.session_factory", "@facebook.likes_counter", "@facebook.shares_counter", "@facebook.comments_counter"]