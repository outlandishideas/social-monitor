<ul class="navigation">

    <?php

    /** @var Zend_Navigation_Page_Mvc $page */
    foreach ($this->container as $page) :

        $href = $page->getHref();

        if($href) : ?>

            <?php
            $classes = array();
            $urlTest = $this->gatekeeper()->filter('%url%', array('controller' => $page->controller, 'action' => $page->action));
            if (!$urlTest) {
	            $href = '';
	            $classes[] = 'disabled';
            } else {
	            $classes[] = 'enabled';
            }
	        if ($page->active) {
		        $classes[] = 'active';
	        }
	        $icon = $page->icon;
            ?>

            <li class="<?php echo implode(' ', $classes); ?>">
                <a <?php if ($href) { echo 'href="' . $href . '"'; } ?>><?php
                    if($icon) : ?>
		                <span class="<?php echo $icon; ?>"></span>  <?php
                    endif;
                    if($page->controller == 'user' && $page->action == 'edit-self') :
                        //echo $this->user->name;
                    else :
                        echo $page->getLabel();
                    endif; ?>
                </a>
            </li>

        <?php endif;

    endforeach; ?>

</ul>